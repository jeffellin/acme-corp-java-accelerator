accelerator:
  displayName: Acme Java App
  description: A sample Modular Spring Boot application built with Tanzu supply-chain
  iconUrl: https://github.com/sample-accelerators/icons/raw/master/icon-boot.png
  tags:
  - java
  - spring
  - web
  - tanzu
  options:
    - name: mavenArtifactId
      dependsOn:
      inputType: text
      label: Maven Artifact ID
      defaultValue: spring-boot-initial
      required: true
      description: The ID of the source Maven artifact
    - name: mavenArtifactVersion
      dependsOn:
      inputType: text
      label: Maven Artifact Version
      defaultValue: 0.0.1-SNAPSHOT
      required: true
      description: The Artifact Version (either RELEASE or a specific version)
    - name: groupId
      inputType: select
      label: Source Type
      choices:
      - text: "ecommerce"
        value: com.acme.ecommerce
      - text: "manufacturing"
        value: com.acme.production
      - text: "sales"
        value: com.acme.sales
      required: true
  engine:
    let:
    - name: hasServiceClaims
      expression: false
    merge:
    - include: [ "**/*" ]
      exclude: [ "config/*.yaml", "Tiltfile", "README.md", "grype.yaml", "catalog/*.yaml", ".github/workflows/**", "Dockerfile" ]
    - include: [ "README.md" ]
      chain:
      - type: ReplaceText
        substitutions:
        - text: acme-web-app
          with: "#mavenArtifactId"
      - type: ReplaceText
        substitutions:
        - text: acme-web-app-version
          with: "#mavenArtifactId"
      - type: ReplaceText
        substitutions:
        - text: acme-web-app-group
          with: "#groupId"